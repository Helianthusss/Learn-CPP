if (self.CavalryLogger) { CavalryLogger.start_js(["1d19VWQ"]); }

__d("GroupsCometInlineComposerMediaSprout_sprout.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometInlineComposerMediaSprout_sprout",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"GroupCometComposerUploadMediaSprout",abstractKey:null};e.exports=a}),null);
__d("GroupsCometFeedRightRailSurfaceHighlights_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"environment",variableName:"device"},b=[{kind:"Variable",name:"bookmark_render_location",variableName:"bookmark_render_location"},a],c=[{alias:null,args:null,kind:"ScalarField",name:"badge_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometNotificationListItem_tabBadge"}],d={kind:"Literal",name:"landing_tab",value:"ENGAGE_MAIN"},e={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notifications",plural:!0,selections:c,storageKey:null},g=[e,f];return{argumentDefinitions:[{defaultValue:[],kind:"LocalArgument",name:"bookmark_ids"},{defaultValue:"COMET_TOP_TAB",kind:"LocalArgument",name:"bookmark_render_location"},{defaultValue:"COMET",kind:"LocalArgument",name:"device"},{defaultValue:!1,kind:"LocalArgument",name:"useNewInfra"}],kind:"Fragment",metadata:null,name:"GroupsCometFeedRightRailSurfaceHighlights_viewer",selections:[{condition:"useNewInfra",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"bookmark_ids",variableName:"bookmark_ids"},a],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:b,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"unread_notifications",plural:!0,selections:c,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"useNewInfra",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometNotificationListItem_groupsTab"},{alias:"newHighlights",args:[d,{kind:"Literal",name:"seen_states",value:["NEW"]}],concreteType:"GroupsTabSurfaceHighlights",kind:"LinkedField",name:"highlights",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_identifiers",storageKey:null},e,f],storageKey:'highlights(landing_tab:"ENGAGE_MAIN",seen_states:["NEW"])'},{alias:"seenHighlights",args:[d,{kind:"Literal",name:"seen_states",value:["SEEN"]}],concreteType:"GroupsTabSurfaceHighlights",kind:"LinkedField",name:"highlights",plural:!1,selections:g,storageKey:'highlights(landing_tab:"ENGAGE_MAIN",seen_states:["SEEN"])'},{alias:"unseenHighlights",args:[d,{kind:"Literal",name:"seen_states",value:["UNSEEN"]}],concreteType:"GroupsTabSurfaceHighlights",kind:"LinkedField",name:"highlights",plural:!1,selections:g,storageKey:'highlights(landing_tab:"ENGAGE_MAIN",seen_states:["UNSEEN"])'}],storageKey:null}]}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("useGroupsCometComposerMediaSelectorCallback.react",["cometIsMimeTypeForMedia","cometUniqueID","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){return h(function(f){if(f==null)return;var g=Array.from(f);if(g.length===1&&d("cometIsMimeTypeForMedia").isMimeTypeForVideo(g[0].type)&&e!=null&&b===!0&&!c("gkx")("1584413")){e(g[0]);return}g=f==null?void 0:Array.from(f).map(function(a){var b=c("cometUniqueID")();a.uploadID=b;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return{data:{id:b},file:a,fileObjectURL:URL.createObjectURL(a),fileType:"PHOTO",state:"NEW"};if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return{data:{id:b},file:a,fileObjectURL:URL.createObjectURL(a),fileType:"VIDEO",state:"NEW"}}).filter(Boolean);a({additionalMediaAttachmentItems:g})},[b,e,a])}g["default"]=a}),98);
__d("GroupsCometInlineComposerMediaSprout.react",["fbt","ix","CometComposerMediaAttachmentAreaResource","CometFeedInlineComposerSprout.react","CometFileSelector.react","GroupsCometInlineComposerMediaSprout_sprout.graphql","fileInputAcceptValues","react","useGroupsCometComposerMediaSelectorCallback.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");j!==void 0?j:j=b("GroupsCometInlineComposerMediaSprout_sprout.graphql");function a(a){var b=a.isViewingSelf,e=a.launchBlueVideoComposer,f=a.onHoverIn,g=a.onHoverOut,j=a.onPressIn,l=a.showComposerDialog,m=a.triggerRef;a=c("useGroupsCometComposerMediaSelectorCallback.react")(l,b,e);var n=function(a){c("CometComposerMediaAttachmentAreaResource").load(),a()};return k.jsx(c("CometFileSelector.react"),{accept:d("fileInputAcceptValues").PHOTO_AND_VIDEO,multiple:!0,onFilesSelected:a,children:function(a){return k.jsx(c("CometFeedInlineComposerSprout.react"),{imageSrc:i("1260669"),label:h._(/*FBT_CALL*/"\u1ea2nh\/Video"/*FBT_CALL*/),onHoverIn:f,onHoverOut:g,onPress:function(){n(a)},onPressIn:j,testid:void 0,triggerRef:m})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometTabNotifFeedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({refs:{current:[]}});g["default"]=b}),98);
__d("GroupsCometFeedLayoutWithRightRail.react",["CometResponsiveColumns.react","CometRouteRenderType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.feedContents;a=a.secondaryContents;var c=d("CometRouteRenderType").useIsHosted();return h.jsxs(d("CometResponsiveColumns.react").Container,{containerWidth:"DEFAULT",reverseColumns:!0,children:[h.jsx(d("CometResponsiveColumns.react").Column,{columnType:"FEED",children:b}),a==null?null:h.jsx(d("CometResponsiveColumns.react").Column,{columnType:"SECONDARY",xstyle:"kcmanqeg g2wm7t24"+(c?" lsig0mp6":" n99bqvw7"),children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometFeedRightRailCard.react",["CometCard.react","CometErrorBoundary.react","CometUnit.react","CometUnitHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.headerActionText,e=a.headerActionUrl,f=a.headline;a=a.subtitle;return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx("div",{className:"sjgh65i0",children:h.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:h.jsx(c("CometUnit.react"),{header:h.jsx(c("CometUnitHeader.react"),{action:d,actionLinkProps:{url:e},body:a,headline:f,level:3}),paddingBottom:16,children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometFeedRightRailSurfaceHighlights.react",["fbt","CometRelay","GroupsCometFeedRightRailCard.react","GroupsCometFeedRightRailSurfaceHighlights_viewer.graphql","GroupsCometNotificationListItem.react","GroupsCometTabFalcoEventLog","GroupsCometTabNotifFeedContext","TetraButton.react","WebPixelRatio","XCometGroupsTabNotificationsHubControllerRouteBuilder","gkx","qex","react","useGroupsCometNotifFeedVisitMutation","useGroupsCometVisitMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=(e=c("qex")._("547"))!=null?e:!1,p=(e=c("qex")._("29"))!=null?e:!1;function a(a){var e=d("CometRelay").useFragment(i!==void 0?i:i=b("GroupsCometFeedRightRailSurfaceHighlights_viewer.graphql"),a.viewer),f=n(""),g=f[0],q=f[1];f=n([]);var s=f[0],t=f[1],u=c("useGroupsCometVisitMutation")(),v=c("useGroupsCometNotifFeedVisitMutation")(),w=k(c("GroupsCometTabNotifFeedContext"));l(function(){var b,c,d,f;b=(b=e==null?void 0:(b=e.groups_tab)==null?void 0:(b=b.newHighlights)==null?void 0:b.notifications)!=null?b:[];c=(c=e==null?void 0:(c=e.groups_tab)==null?void 0:(c=c.unseenHighlights)==null?void 0:c.notifications)!=null?c:[];d=(d=e==null?void 0:(d=e.groups_tab)==null?void 0:(d=d.seenHighlights)==null?void 0:d.notifications)!=null?d:[];f=(f=e==null?void 0:(f=e.bookmarks)==null?void 0:(f=f.edges[0])==null?void 0:(f=f.node)==null?void 0:f.unread_notifications)!=null?f:[];var g=(e==null?void 0:e.bookmarks)!=null;r(b,c,d,f,g,a.showAll,q,t)},[]);f=m(((f=e==null?void 0:(f=e.groups_tab)==null?void 0:(f=f.newHighlights)==null?void 0:f.count)!=null?f:0)+((f=e==null?void 0:(f=e.groups_tab)==null?void 0:(f=f.seenHighlights)==null?void 0:f.count)!=null?f:0)+((f=e==null?void 0:(f=e.groups_tab)==null?void 0:(f=f.unseenHighlights)==null?void 0:f.count)!=null?f:0)+((f=e==null?void 0:(f=e.bookmarks)==null?void 0:(f=f.edges[0])==null?void 0:(f=f.node)==null?void 0:f.unread_count)!=null?f:0));if(s.length===0)return null;s=s.filter(function(a){return Boolean(a==null?void 0:(a=a.story)==null?void 0:a.id)}).sort(function(a,b){return((b=b.time)!=null?b:0)-((b=a.time)!=null?b:0)}).slice(0,a.showAll?s.length:2).map(function(b,f){return j.jsx(c("GroupsCometNotificationListItem.react"),{groupsTab:e==null?void 0:e.groups_tab,isHub:a.showAll,logEventName:"[click][tab][surface highlight][item]",onClick:function(f){var g;g=(g=/^\d+(?=;)/.exec((g=b==null?void 0:b.sender_id)!=null?g:""))==null?void 0:g[0];if(g==null)return;!a.showAll&&o?((e==null?void 0:e.groups_tab)!=null&&u({onCompleted:function(b,c){var d;if(c!=null)return;c=(c=b==null?void 0:(c=b.viewer_groups_tab_log_group_visit)==null?void 0:(c=c.viewer)==null?void 0:(c=c.groups_tab)==null?void 0:(c=c.newHighlights)==null?void 0:c.notifications)!=null?c:[];d=(d=b==null?void 0:(d=b.viewer_groups_tab_log_group_visit)==null?void 0:(d=d.viewer)==null?void 0:(d=d.groups_tab)==null?void 0:(d=d.seenHighlights)==null?void 0:d.notifications)!=null?d:[];b=(b=b==null?void 0:(b=b.viewer_groups_tab_log_group_visit)==null?void 0:(b=b.viewer)==null?void 0:(b=b.groups_tab)==null?void 0:(b=b.unseenHighlights)==null?void 0:b.notifications)!=null?b:[];r(c,b,d,[],!1,a.showAll,q,t)},variables:{bookmarkID:g,input:{badge_entry_point:"GROUPS_TAB_MAIN",group_id:g},scale:d("WebPixelRatio").get(),skipFetchingUnreadCount:c("gkx")("2252")}}),scrollTo({behavior:"smooth",top:0})):a.showAll&&p&&(v({variables:{bookmarkID:g,input:{badge_entry_point:"GROUPS_TAB_MAIN",group_id:g},scale:d("WebPixelRatio").get(),skipFetchingUnreadCount:c("gkx")("2252")}}),scrollTo({behavior:"smooth",top:w.refs.current[f].offsetTop}))},position:f,tabBadge:b},b.badge_id)}).filter(Boolean);return j.jsxs(c("GroupsCometFeedRightRailCard.react"),{headline:g,children:[s,a.showAll||f.current<=2?null:j.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc",children:j.jsx(c("TetraButton.react"),{label:h._(/*FBT_CALL*/"Hi\u1ec3n th\u1ecb th\u00eam"/*FBT_CALL*/),linkProps:{passthroughProps:{badgeIdentifiers:e==null?void 0:(g=e.groups_tab)==null?void 0:(s=g.newHighlights)==null?void 0:s.badge_identifiers},url:c("XCometGroupsTabNotificationsHubControllerRouteBuilder").buildURL({})},onPress:function(){return d("GroupsCometTabFalcoEventLog").logGroupsTabFalcoEventDeferred({component:"GroupsCometFeedRightRailSurfaceHighlights",event_type:"click.nav",metadata:"notifications"})},reduceEmphasis:!0})})]})}a.displayName=a.name+" [from "+f.id+"]";var q=h._(/*FBT_CALL*/"Th\u00f4ng b\u00e1o c\u1ee7a b\u1ea1n"/*FBT_CALL*/),r=function(a,b,c,d,e,f,g,i){e?(g(q),i(d)):f?(g(q),i([].concat(a,b,c))):a.length>0?(g(h._(/*FBT_CALL*/"M\u1edbi d\u00e0nh cho b\u1ea1n"/*FBT_CALL*/)),i(a)):b.length>0?(g(h._(/*FBT_CALL*/"Th\u00f4ng b\u00e1o tr\u01b0\u1edbc \u0111\u00f3"/*FBT_CALL*/)),i(b)):c.length>0&&(g(h._(/*FBT_CALL*/"Th\u00f4ng b\u00e1o \u0111\u00e3 xem"/*FBT_CALL*/)),i(c))};g["default"]=a}),98);